<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hive BR Dashboard</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script defer src="main.js"></script>
</head>
<body>
  
  <div class="container">
    <header>
      <div class="last-updated" id="last-updated">Carregando...</div>
      <h1>HIVE BR <span class="highlight">DASHBOARD</span></h1>
      <p class="subtitle">Ranking de Curadoria e Estat√≠sticas</p>
    </header>

    <div class="project-stats-container">
      <div class="project-card">
        <div class="project-icon">
            <img src="https://images.hive.blog/u/hive-br/avatar/small" alt="Hive BR">
        </div>
        <div class="project-info">
            <h3>PODER DE VOTO DA COMUNIDADE</h3>
            <p id="stat-community-power">0 HP</p>
        </div>
      </div>
    </div>

    <div class="stats-grid">
      <div class="stat-card">
        <h3>HP Pr√≥prio</h3>
        <p id="stat-own-hp" style="color: #4da6ff;">0 HP</p>
      </div>
      <div class="stat-card">
        <h3>HP Delegado</h3>
        <p id="stat-delegated-hp" style="color:var(--accent-purple);">0 HP</p>
      </div>
      <div class="stat-card">
        <h3>Delegadores Ativos</h3>
        <p id="stat-count">0</p>
      </div>
      <div class="stat-card">
        <h3>Destaque do M√™s</h3>
        <p id="stat-growth">‚Äî</p>
      </div>
    </div>

    <div id="activity-panel" class="activity-container" style="display:none;">
      <h3 class="section-title">‚ö° √öltimas Altera√ß√µes (7 dias)</h3>
      <table class="activity-table">
        <thead>
          <tr>
            <th>Usu√°rio</th>
            <th>Antes</th>
            <th>Agora</th>
            <th>Diferen√ßa</th>
          </tr>
        </thead>
        <tbody id="activity-body"></tbody>
      </table>
    </div>

    <div class="search-container">
      <input type="text" id="search-input" placeholder="üîç Buscar usu√°rio..." autocomplete="off">
    </div>

    <div class="table-wrapper">
      <table id="main-table">
        <thead>
          <tr>
            <th class="sticky-col sortable" onclick="handleSort('delegator')">Usu√°rio <span class="sort-icon"></span></th>
            
            <th class="sortable" onclick="handleSort('delegated_hp')">Delega√ß√£o<br><small>Hivebr.voter</small> <span class="sort-icon"></span></th>
            <th class="sortable" onclick="handleSort('timestamp')">TEMPO<br><small>(Delega√ß√£o)</small> <span class="sort-icon"></span></th>
            <th class="sortable" onclick="handleSort('total_account_hp')">HP Pr√≥prio<br><small>(Total)</small> <span class="sort-icon"></span></th>
            
            <th class="sortable" onclick="handleSort('next_withdrawal')">Power Down<br><small>(Pr√≥x. Saque)</small> <span class="sort-icon"></span></th>

            <th class="sortable" onclick="handleSort('token_balance')">HBR<br><small>(Em Stake)</small> <span class="sort-icon"></span></th>
            <th class="sortable" onclick="handleSort('last_user_post')">√öltima Atividade<br><small>(Data)</small> <span class="sort-icon"></span></th>
            <th class="sortable" onclick="handleSort('last_vote_date')">√öltima Curadoria<br><small>(√öltimo | Votos/m√™s)</small> <span class="sort-icon"></span></th>
            
            <th class="sortable" onclick="handleSort('delegated_hp')">B√¥nus de<br>Delega√ß√£o <span class="sort-icon"></span></th>
            <th class="sortable" onclick="handleSort('token_balance')">B√¥nus<br>HBR <span class="sort-icon"></span></th>
            <th class="sortable" onclick="handleSort('in_curation_trail')">Trilha<br><small>+5% Fix</small> <span class="sort-icon"></span></th>
            
            <th>Hist√≥rico de<br>Delega√ß√£o</th>
          </tr>
        </thead>
        <tbody id="ranking-body"></tbody>
      </table>
    </div>

  </div>

</body>
</html>
